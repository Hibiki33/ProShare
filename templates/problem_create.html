{% load static %}
<!doctype html>
<html lang="en-us">

    <head>

        <!-- Meta -->
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width,initial-scale=1">

        <title>Problem Detail</title>
        <base href="/">
        <meta name="description" content="">

        <!-- The compiled CSS file -->
        <link rel="stylesheet" href="/static/css/production.css">

        <!-- Web fonts -->
        <link href="/static/css/font1.css" rel="stylesheet">


        <style>
            .divCss{
                margin-bottom: 10px;
            }
            .olCss{
                padding-left: 20px;
                margin-top: 0px;
                margin-bottom: 0px;
                margin-left: 40px;
            }
            .inputClass {
                float:left;
                margin-left: -50px;
            }
            .form-wfy {
                background-image: none;
                border: 1px solid transparent;
                border-radius: 7px;
                color: #262b3a;
                display: inline-block;
                font-family: Montserrat, Avenir, "Avenir Next", Trebuchet, Verdana, sans-serif;
                font-size: 1rem;
                line-height: 1.6rem;
                max-width: 100%;
                padding: .65rem .8rem .55rem;
                width: 50%;
                -moz-osx-font-smoothing: grayscale
            }
        </style>
    </head>

    <header class="fixed">
        <nav class="bg--lightest-gray align--center pt1 pb1 pl1 pr1">
{#            svg from : https://www.iconfont.cn/collections/detail?spm=a313x.7781069.1998910419.d9df05512&cid=45549#}
            <a class="link" href="/">
                <svg t="1689736249993" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="40" height="50"><path d="M647.1 665.11c10.88 12.86 9.28 32.1-3.58 42.98-37.31 31.57-78.05 47.88-121.36 47.88s-84.05-16.31-121.38-47.88a30.513 30.513 0 0 1-10.3-28.72 30.497 30.497 0 0 1 19.72-23.28 30.499 30.499 0 0 1 30.02 5.44c26.69 22.63 53.71 33.44 81.93 33.44 28.2 0 55.22-10.82 81.93-33.44a30.515 30.515 0 0 1 22.24-7.12c8.08 0.67 15.55 4.52 20.78 10.7z" p-id="1398"></path><path d="M934.19 386.74L553.05 79.27c-23.93-19.41-58.19-19.41-82.12 0L89.8 386.72c-15.86 12.81-25.09 32.27-25.09 52.86l0.1 3.82c1.67 30.37 23.08 55.38 51.38 61.91l2.34 0.47 0.02 344.53 0.1 4.8c2.91 58.61 49.81 104.18 106.84 104.18H798.5l4.72-0.1 4.51-0.35c55.32-5.14 97.71-51.95 97.71-108.53l-0.02-344.53 3.54-0.77a66.073 66.073 0 0 0 36.03-23.6c22.69-29.2 17.85-71.57-10.8-94.67zM897.09 443c-1.08 1.36-2.68 2.15-4.39 2.15h-17.93c-16.71 0-30.25 13.83-30.25 30.9v374.87c0 25.23-19.38 46.03-43.94 47.29l-3.17 0.08H225.82c-24.7 0-45.05-19.82-46.29-44.93l-0.06-3.23v-374.1c0-17.06-13.54-30.9-30.25-30.88h-17.93c-3.09 0-5.59-2.56-5.59-5.73 0-1.73 0.77-3.37 2.11-4.47l380.74-308a5.493 5.493 0 0 1 6.91 0l380.72 308.02a5.821 5.821 0 0 1 0.91 8.03z" p-id="1399"></path></svg>
                <h6 class="text--darkest-gray">ProShare</h6>
            </a>
            <a class="link" href="/problem">
                <svg t="1689734309032" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="40" height="50"><path d="M851.42 64.58H172.58c-59.65 0-108 48.35-108 108v678.84c0 59.65 48.35 108 108 108h678.84c59.65 0 108-48.35 108-108V172.58c0-59.65-48.35-108-108-108z m47 786.84c0 25.92-21.08 47-47 47H172.58c-25.92 0-47-21.08-47-47V172.58c0-25.92 21.08-47 47-47h678.84c25.92 0 47 21.08 47 47v678.84z" p-id="1245"></path><path d="M411.36 257.06H281.62c-16.84 0-30.5 13.66-30.5 30.5v129.73c0 16.84 13.66 30.5 30.5 30.5h129.73c16.84 0 30.5-13.66 30.5-30.5V287.56c0.01-16.84-13.65-30.5-30.49-30.5z m-30.5 129.73h-68.73v-68.73h68.73v68.73zM742.38 257.06H526.43c-16.84 0-30.5 13.66-30.5 30.5s13.66 30.5 30.5 30.5h215.95c16.84 0 30.5-13.66 30.5-30.5s-13.66-30.5-30.5-30.5zM526.43 445.9h152.45c16.84 0 30.5-13.66 30.5-30.5s-13.66-30.5-30.5-30.5H526.43c-16.84 0-30.5 13.66-30.5 30.5s13.65 30.5 30.5 30.5zM411.36 576.21H281.62c-16.84 0-30.5 13.66-30.5 30.5v129.73c0 16.84 13.66 30.5 30.5 30.5h129.73c16.84 0 30.5-13.66 30.5-30.5V606.71c0.01-16.85-13.65-30.5-30.49-30.5z m-30.5 129.73h-68.73v-68.73h68.73v68.73zM742.38 576.21H526.43c-16.84 0-30.5 13.66-30.5 30.5s13.66 30.5 30.5 30.5h215.95c16.84 0 30.5-13.66 30.5-30.5s-13.66-30.5-30.5-30.5zM678.88 704.04H526.43c-16.84 0-30.5 13.66-30.5 30.5s13.66 30.5 30.5 30.5h152.45c16.84 0 30.5-13.66 30.5-30.5s-13.65-30.5-30.5-30.5z" p-id="1246"></path></svg>
                <h6 class="text--darkest-gray">Problems</h6>
            </a>
            <a class="link" href="/account">
                <svg t="1689736317180" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="40" height="50"><path d="M718.02 312.48c0-136.87-112.05-248.22-249.78-248.22-137.73 0-249.78 111.35-249.78 248.22 0 90.97 48.28 170.81 120.42 214.93-160.33 60.53-274.79 216.8-274.79 399.58 0 18.1 14.63 32.76 32.69 32.76 18.06 0 32.69-14.66 32.7-32.76 0-199 144.39-363.18 341.16-363.18 0.68 0 1.37-0.02 2.08-0.06 135.67-2.42 245.3-114.2 245.3-251.27z m-436.73 0c0-102.23 83.87-185.4 186.95-185.4s186.95 83.16 186.96 185.4c0 100.2-77.93 182.37-175.88 188.16-3.77 0.06-7.52 0.18-11.27 0.34-103.01-0.11-186.76-84.63-186.76-188.5zM926.75 892.75H661.41c-18.32 0-33.17 14.85-33.17 33.17s14.85 33.17 33.17 33.17h265.33c18.32 0 33.17-14.85 33.17-33.17s-14.85-33.17-33.16-33.17zM661.2 782.15h265.33c18.32 0 33.17-14.85 33.17-33.17s-14.85-33.17-33.17-33.17H661.2c-18.32 0-33.17 14.85-33.17 33.17s14.85 33.17 33.17 33.17zM802.63 625.06h0.06l125.66-0.25c17.34-0.04 31.38-14.86 31.35-33.11-0.03-18.22-14.09-32.97-31.41-32.97h-0.06l-125.66 0.25c-17.34 0.04-31.38 14.86-31.35 33.11 0.02 18.22 14.08 32.97 31.41 32.97z" p-id="1551"></path></svg>
                <h6 class="text--darkest-gray">Home</h6>
            </a>
            {% if user.is_authenticated %}
                <p class="text--darkest-gray">Hello,</p>
                <a class="text--darkest-gray link" href="/account">{{ user.username }}</a>
            {% else %}
                <a class="text--darkest-gray link" href="/account/login">Login</a>
            {% endif %}
            <div class="pt4 pb4"></div>
            <div class="pt4 pb4"></div>
            <div class="pt4 pb4"></div>
            <div class="pt4 pb4"></div>
            <div class="pt4 pb4"></div>
            <div class="pt4 pb4"></div>
            <div class="pt4 pb4"></div>
            <div class="pt4 pb4"></div>
        </nav>
    </header>

    <body class="has-animations">

        {% comment %} <script>
            function createNode() {
                var element = document.createElement("input");
                element.setAttribute("type", "text");
                element.setAttribute("class", "inputClass");
                element.setAttribute("name", "choice");
                element.setAttribute("placeholder", "choice");
                element.setAttribute("id", "choice");
                document.getElementById("edit_div").appendChild(element);
            }
            function deleteNode() {
                var element = document.getElementById("choice");
                element.parentNode.removeChild(element);
            }
        </script> {% endcomment %}

        <div class="container--lg pt3 pb3">
        <h2 class="text--gray pb1">{{ problem_info.Name }}</h2>
        </div>

        <div class="container pt1 pb1">

            <div class="">
                <div class="">
                    <div class="border--bottom">
                        <h2>Description</h2>
                    </div>
                    <form action="" method="POST" class="pt1">
                        <div class="select mb1">
                            <select id="upload-type"  onchange="showFileUploader()">
                                <option selected="selected" value="edit-online">Edit online</option>
                                <option value="upload-file">Upload file</option>
                            </select>
                        </div>
                    </form>
                    <div id="edit--question--online" style="display: block;">
                    <form action="" method="POST" class="pt1">
                        <label>
                            <input type="question_title" name="question_title" placeholder="question title" class="form-control" value="New Question"/>
                        </label>
                        <label>
                            {% comment %} <input type="question_description" name="question_description" placeholder="question description" class="form-control" /> {% endcomment %}
                            <div class="form-control bg--white" contenteditable="true" name="question_description">Please enter question description here.</div>
                        </label>
                        <label>
                        <div class="select mb1">
                            <select id="question-type"  onchange="showQuestionEditor()" name="question_type">
                                <option selected="selected" value="single-choice">Single Answer</option>
                                <option value="multiple-choice">Multiple Answer</option>
                                <option value="fill-blank">Fill the blank</option>
                            </select>
                        </div>
                        </label>
                        <p class="text--gray pt2 pb1 italic">(Choose the difficulty below.)</p>
                        <label>
                            <div class="select mb1">
                                <select id="question-diff" name="question_diff">
                                    <option selected="selected" value="easy">Easy</option>
                                    <option value="medium">Medium</option>
                                    <option value="hard">Hard</option>
                                    <option value="expert">Expert</option>
                                    <option value="master">Master</option>
                                    <option value="re_master">Re:Master</option>
                                </select>
                            </div>
                            </label>
                        <div id="single-choice-editor" style="display: block;">
                            <p class="text--gray pt2 pb1 italic">(Choose the only right answer)</p>
                            <div class="grid--row">
                                <input class="" type="radio" name="place" value="A"/>
                                <input type="choice" name="choice" placeholder="choice A" class="form-wfy" />
                            </div>
                            <div class="grid--row">
                                <input class="" type="radio" name="place" value="B"/>
                                <input type="choice" name="choice" placeholder="choice B" class="form-wfy" />
                            </div>
                            <div class="grid--row">
                                <input class="" type="radio" name="place" value="C"/>
                                <input type="choice" name="choice" placeholder="choice C" class="form-wfy" />
                            </div>
                            <div class="grid--row">
                                <input class="" type="radio" name="place" value="D"/>
                                <input type="choice" name="choice" placeholder="choice D" class="form-wfy" />
                            </div>
                        </div>
                        <div id="multiple-choice-editor" style="display: none;">
                            <p class="text--gray pt2 pb1 italic">(Choose all the right answers)</p>
                            <div class="grid--row">
                                <input class="" type="checkbox" name="place" value="A"/>
                                <input type="choice" name="choice" placeholder="choice A" class="form-wfy" />
                            </div>
                            <div class="grid--row">
                                <input class="" type="checkbox" name="place" value="B"/>
                                <input type="choice" name="choice" placeholder="choice B" class="form-wfy" />
                            </div>
                            <div class="grid--row">
                                <input class="" type="checkbox" name="place" value="C"/>
                                <input type="choice" name="choice" placeholder="choice C" class="form-wfy" />
                            </div>
                            <div class="grid--row">
                                <input class="" type="checkbox" name="place" value="D"/>
                                <input type="choice" name="choice" placeholder="choice D" class="form-wfy" />
                            </div>
                        </div>
                        <div id="fill-blank-editor" style="display: none;">
                            <p class="text--gray pt2 pb1 italic">(Input the right answer)</p>
                            <input type="question_answer" name="question_answer" placeholder="The answer to the question." class="form-control"/>
                        </div>
                        <div class="pt3">
                            <button type="submit" class="btn btn--outline">Submit</button>
                        </div>
                    </form>
                    </div>
                    <div id="upload--question" style="display: none;">
                    {% comment %} below is a div containing text introducing file restrictions WRITTEN BY COPILOT {% endcomment %}
                    <div>
                        <p class="text--gray pt2 pb1 italic">File restrictions:</p>
                        <ol class="olCss">
                            <li>File size should be less than 10MB.</li>
                            <li>File type should be .txt or .md.</li>
                            <li>File name should be in the format of "problem_name.txt" or "problem_name.md".</li>
                        </ol>
                        <p class="text--gray pt2 pb1 italic">Content restrictions:</p>
                        <ol class="olCss">
                            <li>File should contain a title line, a description line, and a question line.</li>
                            <li>Title line should be in the format of "# problem_name".</li>
                            <li>Description line should be in the format of "## problem_description".</li>
                            <li>Question line should be in the format of "### problem_question".</li>
                            <li>Question type should be in the format of "#### problem_type".</li>
                            <li>Single choice question should be in the format of "##### single_choice".</li>
                            <li>Multiple choice question should be in the format of "##### multiple_choice".</li>
                            <li>Fill blank question should be in the format of "##### fill_blank".</li>
                            <li>Choices should be in the format of "choice A", "choice B", "choice C", "choice D".</li>
                            <li>Answer should be in the format of "answer".</li>
                        </ol>
                    </div>
                    <form action="" method="post" enctype="multipart/form-data">
                        <input type="file" name="file" class="pt1 pb1">
                        <button class="btn btn--outline">Upload</button>
                    </form>
                    </div>
                </div>
            </div>
        </div>

        <script>
            function showQuestionEditor() {
                var select = document.getElementById("question-type");
                var selectedValue = select.options[select.selectedIndex].value;

                var singleChoiceEditor = document.getElementById("single-choice-editor");
                var multipleChoiceEditor = document.getElementById("multiple-choice-editor");
                var fillBlankEditor = document.getElementById("fill-blank-editor");

                if (selectedValue === "single-choice") {
                    singleChoiceEditor.style.display = "block";
                    multipleChoiceEditor.style.display = "none";
                    fillBlankEditor.style.display = "none";
                } else if (selectedValue === "multiple-choice") {
                    singleChoiceEditor.style.display = "none";
                    multipleChoiceEditor.style.display = "block";
                    fillBlankEditor.style.display = "none";
                } else if (selectedValue === "fill-blank") {
                    singleChoiceEditor.style.display = "none";
                    multipleChoiceEditor.style.display = "none";
                    fillBlankEditor.style.display = "block";
                }
            }
            function showFileUploader() {
                var select = document.getElementById("upload-type");
                var selectedValue = select.options[select.selectedIndex].value;

                var editQuestionOnline = document.getElementById("edit--question--online");
                var uploadQuestion = document.getElementById("upload--question");

                if (selectedValue == "edit-online") {
                    editQuestionOnline.style.display = "block";
                    uploadQuestion.style.display = "none";
                } else if (selectedValue == "upload-file") {
                    editQuestionOnline.style.display = "none";
                    uploadQuestion.style.display = "block";
                }
            }
        </script>
        
        <main>
            <!-- Feature list -->
            <div class="container pt3 mt2 text--gray align--center">
                <p class="mb3">A problem sharing platform. Made by oshi_no_compiler group.</p>
            </div>
        </main>
    
    </body>
</html>
